jQuery.toggleFieldset=function(e){if($(e).is(".collapsed")){var t=$("> div:not(.action)",e);$(e).removeClass("collapsed"),t.hide(),t.slideDown({duration:"fast",easing:"linear",complete:function(){jQuery.collapseScrollIntoView(this.parentNode),this.parentNode.animating=!1,$("div.action",e).show()},step:function(){jQuery.collapseScrollIntoView(this.parentNode)}})}else{$("div.action",e).hide();var t=$("> div:not(.action)",e).slideUp("fast",function(){$(this.parentNode).addClass("collapsed"),this.parentNode.animating=!1})}},jQuery.collapseScrollIntoView=function(e){var t=self.innerHeight||document.documentElement.clientHeight||$("body")[0].clientHeight||0,o=self.pageYOffset||document.documentElement.scrollTop||$("body")[0].scrollTop||0,i=$(e).offset().top,n=55;i+e.offsetHeight+55>t+o&&(e.offsetHeight>t?window.scrollTo(0,i):window.scrollTo(0,i+e.offsetHeight-t+55))},jQuery.behaviors.collapse=function(e){$("fieldset.collapsible > legend:not(.collapse-processed)",e).each(function(){var e=$(this.parentNode);$("input.error, textarea.error, select.error",e).size()>0&&e.removeClass("collapsed");var t=this.innerHTML;$(this).empty().append($('<a href="#">'+t+"</a>").click(function(){var e=$(this).parents("fieldset:first")[0];return e.animating||(e.animating=!0,jQuery.toggleFieldset(e)),!1})).after($('<div class="fieldset-wrapper"></div>').append(e.children(":not(legend):not(.action)"))).addClass("collapse-processed")})};